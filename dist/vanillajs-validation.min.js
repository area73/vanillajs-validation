!function(a,b){"object"==typeof exports&&"undefined"!=typeof module?b():"function"==typeof define&&define.amd?define(b):b()}(0,function(){"use strict";function b(a){var b=2,c=a.split("").reduce(function(a,b){return[parseInt(b,10)].concat(a)},[]).reduce(function(a,c){return a+=c*b,b=9==b?2:b+1,a},0)%11;return 2>c?0:11-c}var d,X="undefined"==typeof window?"undefined"==typeof global?"undefined"==typeof self?{}:self:global:window,f=(function(Q,U){!function(){var G=Math.floor,Y=Math.min,aa=Math.max,ba="object"==typeof self&&self.self===self&&self||"object"==typeof X&&X.global===X&&X||this||{},n=ba._,ca=Array.prototype,da=Object.prototype,e="undefined"==typeof Symbol?null:Symbol.prototype,f=ca.push,ea=ca.slice,fa=da.toString,l=da.hasOwnProperty,i=Array.isArray,o=Object.keys,a=Object.create,c=function(){},p=function(a){return a instanceof p?a:this instanceof p?void(this._wrapped=a):new p(a)};U.nodeType?ba._=p:(!Q.nodeType&&Q.exports&&(U=Q.exports=p),U._=p),p.VERSION="1.9.1";var h,s=function(a,b,c){if(void 0===b)return a;switch(null==c?3:c){case 1:return function(c){return a.call(b,c)};case 3:return function(c,d,e){return a.call(b,c,d,e)};case 4:return function(c,d,f,g){return a.call(b,c,d,f,g)};}return function(){return a.apply(b,arguments)}},d=function(a,b,c){return p.iteratee===h?null==a?p.identity:p.isFunction(a)?s(a,b,c):p.isObject(a)&&!p.isArray(a)?p.matcher(a):p.property(a):p.iteratee(a,b)};p.iteratee=h=function(a,b){return d(a,b,1/0)};var y=function(a,b){return b=null==b?a.length-1:+b,function(){for(var c=aa(arguments.length-b,0),d=Array(c),f=0;f<c;f++)d[f]=arguments[f+b];switch(b){case 0:return a.call(this,d);case 1:return a.call(this,arguments[0],d);case 2:return a.call(this,arguments[0],arguments[1],d);}var g=Array(b+1);for(f=0;f<b;f++)g[f]=arguments[f];return g[b]=d,a.apply(this,g)}},m=function(b){if(!p.isObject(b))return{};if(a)return a(b);c.prototype=b;var d=new c;return c.prototype=null,d},g=function(a){return function(b){return null==b?void 0:b[a]}},b=function(a,b){return null!=a&&l.call(a,b)},u=function(a,b){for(var c=b.length,d=0;d<c;d++){if(null==a)return;a=a[b[d]]}return c?a:void 0},j=Math.pow(2,53)-1,x=g("length"),A=function(a){var b=x(a);return"number"==typeof b&&0<=b&&b<=9007199254740991};p.each=p.forEach=function(a,b,c){var d,f;if(b=s(b,c),A(a))for(d=0,f=a.length;d<f;d++)b(a[d],d,a);else{var g=p.keys(a);for(d=0,f=g.length;d<f;d++)b(a[g[d]],g[d],a)}return a},p.map=p.collect=function(b,c,f){c=d(c,f);for(var g,h=!A(b)&&p.keys(b),e=(h||b).length,i=Array(e),j=0;j<e;j++)g=h?h[j]:j,i[j]=c(b[g],g,b);return i};var k=function(b){return function(a,c,d,f){var e=3<=arguments.length;return function(c,d,f,g){var e=!A(c)&&p.keys(c),h=(e||c).length,i=0<b?0:h-1;for(g||(f=c[e?e[i]:i],i+=b);0<=i&&i<h;i+=b){var j=e?e[i]:i;f=d(f,c[j],j,c)}return f}(a,s(c,f,4),d,e)}};p.reduce=p.foldl=p.inject=k(1),p.reduceRight=p.foldr=k(-1),p.find=p.detect=function(a,b,c){var d=(A(a)?p.findIndex:p.findKey)(a,b,c);if(void 0!==d&&-1!==d)return a[d]},p.filter=p.select=function(a,b,c){var f=[];return b=d(b,c),p.each(a,function(a,c,d){b(a,c,d)&&f.push(a)}),f},p.reject=function(a,b,c){return p.filter(a,p.negate(d(b)),c)},p.every=p.all=function(a,b,c){b=d(b,c);for(var f,g=!A(a)&&p.keys(a),e=(g||a).length,h=0;h<e;h++)if(f=g?g[h]:h,!b(a[f],f,a))return!1;return!0},p.some=p.any=function(a,b,c){b=d(b,c);for(var f,g=!A(a)&&p.keys(a),e=(g||a).length,h=0;h<e;h++)if(f=g?g[h]:h,b(a[f],f,a))return!0;return!1},p.contains=p.includes=p.include=function(a,b,c,d){return A(a)||(a=p.values(a)),("number"!=typeof c||d)&&(c=0),0<=p.indexOf(a,b,c)},p.invoke=y(function(a,b,c){var d,e;return p.isFunction(b)?e=b:p.isArray(b)&&(d=b.slice(0,-1),b=b[b.length-1]),p.map(a,function(a){var f=e;if(!f){if(d&&d.length&&(a=u(a,d)),null==a)return;f=a[b]}return null==f?f:f.apply(a,c)})}),p.pluck=function(a,b){return p.map(a,p.property(b))},p.where=function(a,b){return p.filter(a,p.matcher(b))},p.findWhere=function(a,b){return p.find(a,p.matcher(b))},p.max=function(b,c,f){var g,h,j=-1/0,k=-1/0;if(null==c||"number"==typeof c&&"object"!=typeof b[0]&&null!=b)for(var m=0,q=(b=A(b)?b:p.values(b)).length;m<q;m++)null!=(g=b[m])&&j<g&&(j=g);else c=d(c,f),p.each(b,function(a,b,d){h=c(a,b,d),(k<h||h===-1/0&&j===-1/0)&&(j=a,k=h)});return j},p.min=function(b,c,f){var g,h,j=1/0,k=1/0;if(null==c||"number"==typeof c&&"object"!=typeof b[0]&&null!=b)for(var m=0,q=(b=A(b)?b:p.values(b)).length;m<q;m++)null!=(g=b[m])&&g<j&&(j=g);else c=d(c,f),p.each(b,function(a,b,d){((h=c(a,b,d))<k||h===1/0&&j===1/0)&&(j=a,k=h)});return j},p.shuffle=function(a){return p.sample(a,1/0)},p.sample=function(b,c,d){if(null==c||d)return A(b)||(b=p.values(b)),b[p.random(b.length-1)];var f=A(b)?p.clone(b):p.values(b),e=x(f);c=aa(Y(c,e),0);for(var g=0;g<c;g++){var h=p.random(g,e-1),a=f[g];f[g]=f[h],f[h]=a}return f.slice(0,c)},p.sortBy=function(a,b,c){var f=0;return b=d(b,c),p.pluck(p.map(a,function(a,c,d){return{value:a,index:f++,criteria:b(a,c,d)}}).sort(function(a,b){var c=a.criteria,d=b.criteria;if(c!==d){if(d<c||void 0===c)return 1;if(c<d||void 0===d)return-1}return a.index-b.index}),"value")};var r=function(a,b){return function(c,e,f){var g=b?[[],[]]:{};return e=d(e,f),p.each(c,function(b,d){var f=e(b,d,c);a(g,b,f)}),g}};p.groupBy=r(function(a,c,d){b(a,d)?a[d].push(c):a[d]=[c]}),p.indexBy=r(function(a,b,c){a[c]=b}),p.countBy=r(function(a,c,d){b(a,d)?a[d]++:a[d]=1});var t=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;p.toArray=function(a){return a?p.isArray(a)?ea.call(a):p.isString(a)?a.match(t):A(a)?p.map(a,p.identity):p.values(a):[]},p.size=function(a){return null==a?0:A(a)?a.length:p.keys(a).length},p.partition=r(function(a,b,c){a[c?0:1].push(b)},!0),p.first=p.head=p.take=function(a,b,c){return null==a||1>a.length?null==b?void 0:[]:null==b||c?a[0]:p.initial(a,a.length-b)},p.initial=function(a,b,c){return ea.call(a,0,aa(0,a.length-(null==b||c?1:b)))},p.last=function(a,b,c){return null==a||1>a.length?null==b?void 0:[]:null==b||c?a[a.length-1]:p.rest(a,aa(0,a.length-b))},p.rest=p.tail=p.drop=function(a,b,c){return ea.call(a,null==b||c?1:b)},p.compact=function(a){return p.filter(a,Boolean)};var w=function(b,d,f,g){for(var h,j=(g=g||[]).length,k=0,m=x(b);k<m;k++)if(h=b[k],!(A(h)&&(p.isArray(h)||p.isArguments(h))))f||(g[j++]=h);else if(d)for(var n=0,o=h.length;n<o;)g[j++]=h[n++];else w(h,d,f,g),j=g.length;return g};p.flatten=function(a,b){return w(a,b,!1)},p.without=y(function(a,b){return p.difference(a,b)}),p.uniq=p.unique=function(b,f,g,h){p.isBoolean(f)||(h=g,g=f,f=!1),null!=g&&(g=d(g,h));for(var j=[],i=[],k=0,m=x(b);k<m;k++){var a=b[k],l=g?g(a,k,b):a;f&&!g?(k&&i===l||j.push(a),i=l):g?p.contains(i,l)||(i.push(l),j.push(a)):p.contains(j,a)||j.push(a)}return j},p.union=y(function(a){return p.uniq(w(a,!0,!0))}),p.intersection=function(a){for(var b,c=[],d=arguments.length,f=0,g=x(a);f<g;f++)if(b=a[f],!p.contains(c,b)){var h;for(h=1;h<d&&p.contains(arguments[h],b);h++);h===d&&c.push(b)}return c},p.difference=y(function(a,b){return b=w(b,!0,!0),p.filter(a,function(a){return!p.contains(b,a)})}),p.unzip=function(a){for(var b=a&&p.max(a,x).length||0,c=Array(b),d=0;d<b;d++)c[d]=p.pluck(a,d);return c},p.zip=y(p.unzip),p.object=function(a,b){for(var c={},d=0,f=x(a);d<f;d++)b?c[a[d]]=b[d]:c[a[d][0]]=a[d][1];return c};var E=function(a){return function(b,c,f){c=d(c,f);for(var g=x(b),e=0<a?0:g-1;0<=e&&e<g;e+=a)if(c(b[e],e,b))return e;return-1}};p.findIndex=E(1),p.findLastIndex=E(-1),p.sortedIndex=function(b,c,f,g){for(var e,h=(f=d(f,g,1))(c),i=0,j=x(b);i<j;)e=G((i+j)/2),f(b[e])<h?i=e+1:j=e;return i};var I=function(b,c,d){return function(a,f,g){var h=0,j=x(a);if("number"==typeof g)0<b?h=0<=g?g:aa(g+j,h):j=0<=g?Y(g+1,j):g+j+1;else if(d&&g&&j)return a[g=d(a,f)]===f?g:-1;if(f!=f)return 0<=(g=c(ea.call(a,h,j),p.isNaN))?g+h:-1;for(g=0<b?h:j-1;0<=g&&g<j;g+=b)if(a[g]===f)return g;return-1}};p.indexOf=I(1,p.findIndex,p.sortedIndex),p.lastIndexOf=I(-1,p.findLastIndex),p.range=function(a,b,c){null==b&&(b=a||0,a=0),c||(c=b<a?-1:1);for(var d=aa(Math.ceil((b-a)/c),0),e=Array(d),f=0;f<d;f++,a+=c)e[f]=a;return e},p.chunk=function(a,b){if(null==b||1>b)return[];for(var c=[],d=0,f=a.length;d<f;)c.push(ea.call(a,d,d+=b));return c};var L=function(a,b,c,d,e){if(!(d instanceof b))return a.apply(c,e);var f=m(a.prototype),g=a.apply(f,e);return p.isObject(g)?g:f};p.bind=y(function(a,b,c){if(!p.isFunction(a))throw new TypeError("Bind must be called on a function");var d=y(function(e){return L(a,d,b,this,c.concat(e))});return d}),p.partial=y(function(b,c){var d=p.partial.placeholder,f=function(){for(var a=0,g=c.length,h=Array(g),i=0;i<g;i++)h[i]=c[i]===d?arguments[a++]:c[i];for(;a<arguments.length;)h.push(arguments[a++]);return L(b,f,this,this,h)};return f}),(p.partial.placeholder=p).bindAll=y(function(a,b){var c=(b=w(b,!1,!1)).length;if(1>c)throw new Error("bindAll must be passed function names");for(;c--;){var d=b[c];a[d]=p.bind(a[d],a)}}),p.memoize=function(a,c){var d=function(e){var f=d.cache,g=""+(c?c.apply(this,arguments):e);return b(f,g)||(f[g]=a.apply(this,arguments)),f[g]};return d.cache={},d},p.delay=y(function(a,b,c){return setTimeout(function(){return a.apply(null,c)},b)}),p.defer=p.partial(p.delay,p,1),p.throttle=function(b,d,e){var f,g,h,j,k=0;e||(e={});var m=function(){k=!1===e.leading?0:p.now(),f=null,j=b.apply(g,h),f||(g=h=null)},q=function(){var a=p.now();k||!1!==e.leading||(k=a);var c=d-(a-k);return g=this,h=arguments,0>=c||d<c?(f&&(clearTimeout(f),f=null),k=a,j=b.apply(g,h),f||(g=h=null)):f||!1===e.trailing||(f=setTimeout(m,c)),j};return q.cancel=function(){clearTimeout(f),k=0,f=g=h=null},q},p.debounce=function(b,c,d){var e,f,g=function(a,c){e=null,c&&(f=b.apply(a,c))},a=y(function(a){if(e&&clearTimeout(e),d){var h=!e;e=setTimeout(g,c),h&&(f=b.apply(this,a))}else e=p.delay(g,c,this,a);return f});return a.cancel=function(){clearTimeout(e),e=null},a},p.wrap=function(a,b){return p.partial(b,a)},p.negate=function(a){return function(){return!a.apply(this,arguments)}},p.compose=function(){var a=arguments,b=a.length-1;return function(){for(var c=b,d=a[b].apply(this,arguments);c--;)d=a[c].call(this,d);return d}},p.after=function(a,b){return function(){if(1>--a)return b.apply(this,arguments)}},p.before=function(a,b){var c;return function(){return 0<--a&&(c=b.apply(this,arguments)),1>=a&&(b=null),c}},p.once=p.partial(p.before,2),p.restArguments=y;var M=!{toString:null}.propertyIsEnumerable("toString"),F=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],q=function(a,c){var d=F.length,f=a.constructor,e=p.isFunction(f)&&f.prototype||da,g="constructor";for(b(a,g)&&!p.contains(c,g)&&c.push(g);d--;)(g=F[d])in a&&a[g]!==e[g]&&!p.contains(c,g)&&c.push(g)};p.keys=function(a){if(!p.isObject(a))return[];if(o)return o(a);var c=[];for(var d in a)b(a,d)&&c.push(d);return M&&q(a,c),c},p.allKeys=function(a){if(!p.isObject(a))return[];var b=[];for(var c in a)b.push(c);return M&&q(a,b),b},p.values=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=a[b[e]];return d},p.mapObject=function(b,c,f){c=d(c,f);for(var g,h=p.keys(b),e=h.length,i={},j=0;j<e;j++)g=h[j],i[g]=c(b[g],g,b);return i},p.pairs=function(a){for(var b=p.keys(a),c=b.length,d=Array(c),e=0;e<c;e++)d[e]=[b[e],a[b[e]]];return d},p.invert=function(a){for(var b={},c=p.keys(a),d=0,f=c.length;d<f;d++)b[a[c[d]]]=c[d];return b},p.functions=p.methods=function(a){var b=[];for(var c in a)p.isFunction(a[c])&&b.push(c);return b.sort()};var O=function(b,d){return function(c){var f=arguments.length;if(d&&(c=Object(c)),2>f||null==c)return c;for(var g=1;g<f;g++)for(var h,j=arguments[g],e=b(j),i=e.length,k=0;k<i;k++)h=e[k],d&&void 0!==c[h]||(c[h]=j[h]);return c}};p.extend=O(p.allKeys),p.extendOwn=p.assign=O(p.keys),p.findKey=function(a,b,c){b=d(b,c);for(var f,g=p.keys(a),h=0,i=g.length;h<i;h++)if(b(a[f=g[h]],f,a))return f};var C,S,T=function(a,b,c){return b in c};p.pick=y(function(b,c){var d={},f=c[0];if(null==b)return d;p.isFunction(f)?(1<c.length&&(f=s(f,c[1])),c=p.allKeys(b)):(f=T,c=w(c,!1,!1),b=Object(b));for(var g=0,h=c.length;g<h;g++){var j=c[g],k=b[j];f(k,j,b)&&(d[j]=k)}return d}),p.omit=y(function(a,b){var c,d=b[0];return p.isFunction(d)?(d=p.negate(d),1<b.length&&(c=b[1])):(b=p.map(w(b,!1,!1),String),d=function(a,c){return!p.contains(b,c)}),p.pick(a,d,c)}),p.defaults=O(p.allKeys,!0),p.create=function(a,b){var c=m(a);return b&&p.extendOwn(c,b),c},p.clone=function(a){return p.isObject(a)?p.isArray(a)?a.slice():p.extend({},a):a},p.tap=function(a,b){return b(a),a},p.isMatch=function(a,b){var c=p.keys(b),d=c.length;if(null==a)return!d;for(var e,f=Object(a),g=0;g<d;g++)if(e=c[g],b[e]!==f[e]||!(e in f))return!1;return!0},C=function(a,b,c,d){if(a===b)return 0!==a||1/a==1/b;if(null==a||null==b)return!1;if(a!=a)return b!=b;var e=typeof a;return("function"==e||"object"==e||"object"==typeof b)&&S(a,b,c,d)},S=function(d,f,g,h){d instanceof p&&(d=d._wrapped),f instanceof p&&(f=f._wrapped);var j=fa.call(d);if(j!==fa.call(f))return!1;switch(j){case"[object RegExp]":case"[object String]":return""+d==""+f;case"[object Number]":return+d==+d?0==+d?1/+d==1/f:+d==+f:+f!=+f;case"[object Date]":case"[object Boolean]":return+d==+f;case"[object Symbol]":return e.valueOf.call(d)===e.valueOf.call(f);}var i="[object Array]"===j;if(!i){if("object"!=typeof d||"object"!=typeof f)return!1;var k=d.constructor,m=f.constructor;if(k!==m&&!(p.isFunction(k)&&k instanceof k&&p.isFunction(m)&&m instanceof m)&&"constructor"in d&&"constructor"in f)return!1}h=h||[];for(var a=(g=g||[]).length;a--;)if(g[a]===d)return h[a]===f;if(g.push(d),h.push(f),i){if((a=d.length)!==f.length)return!1;for(;a--;)if(!C(d[a],f[a],g,h))return!1}else{var o,q=p.keys(d);if(a=q.length,p.keys(f).length!==a)return!1;for(;a--;)if(o=q[a],!b(f,o)||!C(d[o],f[o],g,h))return!1}return g.pop(),h.pop(),!0},p.isEqual=function(a,b){return C(a,b)},p.isEmpty=function(a){return null==a||(A(a)&&(p.isArray(a)||p.isString(a)||p.isArguments(a))?0===a.length:0===p.keys(a).length)},p.isElement=function(a){return a&&1===a.nodeType},p.isArray=i||function(a){return"[object Array]"===fa.call(a)},p.isObject=function(a){var b=typeof a;return"function"==b||"object"==b&&!!a},p.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(a){p["is"+a]=function(b){return fa.call(b)==="[object "+a+"]"}}),p.isArguments(arguments)||(p.isArguments=function(a){return b(a,"callee")});var P=ba.document&&ba.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof P&&(p.isFunction=function(a){return"function"==typeof a||!1}),p.isFinite=function(a){return!p.isSymbol(a)&&isFinite(a)&&!isNaN(parseFloat(a))},p.isNaN=function(a){return p.isNumber(a)&&isNaN(a)},p.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"===fa.call(a)},p.isNull=function(a){return null===a},p.isUndefined=function(a){return void 0===a},p.has=function(a,c){if(!p.isArray(c))return b(a,c);for(var d,f=c.length,g=0;g<f;g++){if(d=c[g],null==a||!l.call(a,d))return!1;a=a[d]}return!!f},p.noConflict=function(){return ba._=n,this},p.identity=function(a){return a},p.constant=function(a){return function(){return a}},p.noop=function(){},p.property=function(a){return p.isArray(a)?function(b){return u(b,a)}:g(a)},p.propertyOf=function(a){return null==a?function(){}:function(b){return p.isArray(b)?u(a,b):a[b]}},p.matcher=p.matches=function(a){return a=p.extendOwn({},a),function(b){return p.isMatch(b,a)}},p.times=function(a,b,c){var d=Array(aa(0,a));b=s(b,c,1);for(var e=0;e<a;e++)d[e]=b(e);return d},p.random=function(a,b){return null==b&&(b=a,a=0),a+G(Math.random()*(b-a+1))},p.now=Date.now||function(){return new Date().getTime()};var B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=p.invert(B),R=function(a){var b=function(b){return a[b]},c="(?:"+p.keys(a).join("|")+")",d=RegExp(c),e=RegExp(c,"g");return function(a){return a=null==a?"":""+a,d.test(a)?a.replace(e,b):a}};p.escape=R(B),p.unescape=R(z),p.result=function(a,b,c){p.isArray(b)||(b=[b]);var d=b.length;if(!d)return p.isFunction(c)?c.call(a):c;for(var e,f=0;f<d;f++)e=null==a?void 0:a[b[f]],void 0===e&&(e=c,f=d),a=p.isFunction(e)?e.call(a):e;return a};var D=0;p.uniqueId=function(a){var b=++D+"";return a?a+b:b},p.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var _=/(.)^/,$={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},V=/\\|'|\r|\n|\u2028|\u2029/g,W=function(a){return"\\"+$[a]};p.template=function(b,c,d){!c&&d&&(c=d),c=p.defaults({},c,p.templateSettings);var f,g=RegExp([(c.escape||_).source,(c.interpolate||_).source,(c.evaluate||_).source].join("|")+"|$","g"),h=0,j="__p+='";b.replace(g,function(a,c,d,f,e){return j+=b.slice(h,e).replace(V,W),h=e+a.length,c?j+="'+\n((__t=("+c+"))==null?'':_.escape(__t))+\n'":d?j+="'+\n((__t=("+d+"))==null?'':__t)+\n'":f&&(j+="';\n"+f+"\n__p+='"),a}),j+="';\n",c.variable||(j="with(obj||{}){\n"+j+"}\n"),j="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+j+"return __p;\n";try{f=new Function(c.variable||"obj","_",j)}catch(a){throw a.source=j,a}var e=function(a){return f.call(this,a,p)},i=c.variable||"obj";return e.source="function("+i+"){\n"+j+"}",e},p.chain=function(a){var b=p(a);return b._chain=!0,b};var Z=function(a,b){return a._chain?p(b).chain():b};p.mixin=function(a){return p.each(p.functions(a),function(b){var c=p[b]=a[b];p.prototype[b]=function(){var a=[this._wrapped];return f.apply(a,arguments),Z(this,c.apply(p,a))}}),p},p.mixin(p),p.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=ca[a];p.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],Z(this,c)}}),p.each(["concat","join","slice"],function(a){var b=ca[a];p.prototype[a]=function(){return Z(this,b.apply(this._wrapped,arguments))}}),p.prototype.value=function(){return this._wrapped},p.prototype.valueOf=p.prototype.toJSON=p.prototype.value,p.prototype.toString=function(){return this._wrapped+""}}()}(d={exports:{}},d.exports),d.exports),a=(f._,{cep:"CEP inv\xE1lido.",cpf:"CPF inv\xE1lido.",cnpj:"CNPJ inv\xE1lido.",digits:"Apenas d\xEDgitos permitidos.",email:"Email inv\xE1lido.",required:"Campo obrigat\xF3rio.",minlength:function(a){return"O campo deve ter no minimo "+a+" caracteres"},maxlength:function(a){return"O campo deve ter no m\xE1ximo "+a+" caracteres"}}),g=function(){function a(a,b){for(var c,d=0;d<b.length;d++)c=b[d],c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(a,c.key,c)}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),j=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999"],k=function(a){var b=a.length+1,c=a.map(function(a,c){return a*(b-c)}).reduce(function(a,b){return a+b})%11;return 1>=c?0:11-c},l=function(a){var b=a.toString().replace(/\D/g,"");if(11!=b.length||j.includes(b))return!1;var c=b.split("").map(function(a){return parseInt(a,10)}),d=c.slice(0,9),e=c.slice(9,2),f=k(d);return[f,k([].concat(function(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(d),[f]))].join==e.join},m=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],o=/[-\/.]/g,c=/[^\d]/g,e=function(a,d){var f,g=(f=d?o:c,(a||"").toString().replace(f,""));if(!g)return!1;if(14!==g.length)return!1;if(m.includes(g))return!1;var e=g.substr(0,12);return e+=b(e),(e+=b(e)).substr(-2)===g.substr(-2)},i={cep:function(a){return /^[0-9]{5}(?:-[0-9]{3})?$/.test(a)},cpf:function(a){return l(a)},cnpj:function(a){return e(a)},email:function(a){return /^[a-zA-Z0-9.!#$%&’*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(a)},equalTo:function(a,b){var c=this.form.querySelector(b);return!!c&&a===c.value},digits:function(a){return /^[0-9]*$/.test(a)},required:function(a,b){return a&&b},minlength:function(a,b){return 1<=b&&a.length>=b},maxlength:function(a,b){return 1<=b&&a.length<=b}},p=function(){function b(a,c){!function(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}(this,b),this.form=a,this.formInputs=[],this.rules=c.rules?c.rules:{},this.errorList=[],this.errorClass=c.errorClass?c.errorClass:"invalid",this.messages=c.messages?c.messages:{},this.onfocusout=c.onfocusout?c.onfocusout:null,this.errorPlacement=c.errorPlacement?c.errorPlacement:null,this.submitHandler=c.submitHandler?c.submitHandler:null,this.invalidHandler=c.invalidHandler?c.invalidHandler:null,this.rules||this.setupRules(),this.listInputs(),this.setup()}return g(b,[{key:"addErrorClass",value:function(a){a.classList.contains(this.errorClass)||a.classList.add(this.errorClass)}},{key:"addErrorMessage",value:function(a,b){var c=a.errField,d=this.getError(b,a.el.name);c.innerHTML&&"required"!==d.rule||(c.dataset.inputError=d.rule,c.innerHTML=d.message)}},{key:"clearError",value:function(a,c){var d=f.findIndex(this.errorList,{rule:c,inputIndex:a});if("number"==typeof d){var g=this.formInputs[a];this.removeErrorClass(g.holder),b.removeErrorMessage(g.errField),this.errorList.splice(d,1)}}},{key:"getError",value:function(b){var c={rule:b.rule};return c.message="function"==typeof a[b.rule]?a[b.rule](b.required):a[b.rule],this.messages&&this.messages[b.el.name]&&this.messages[b.el.name][b.rule]&&(c.message=this.messages[b.el.name][b.rule]),c}},{key:"listInputs",value:function(){var a=this,b=this;Array.from(this.form.querySelectorAll("[data-field-holder]")).forEach(function(c){var d=c.querySelector("input:not([disabled])");if(d&&a.rules[d.name]){var e={el:d,errField:c.querySelector("[data-field-error]"),holder:c,rules:"required"===b.rules[d.name]?{required:!0}:b.rules[d.name],valid:null};a.formInputs.push(e)}})}},{key:"mapErrors",value:function(){var a=this;this.errorPlacement?this.mapForErrorPlacement():this.errorList.forEach(function(b){var c=a.formInputs[b.inputIndex],d=c.holder;a.addErrorClass(d),a.addErrorMessage(c,b)})}},{key:"mapForErrorPlacement",value:function(){var a=this,b=[];this.formInputs.forEach(function(c){var d=f.where(a.errorList,{el:c.el});if(d.length){var e=f.where(d,{rule:"required"});e.length?b.push(e[0]):b.push(d[0])}}),b.forEach(function(b){a.errorPlacement.call(a,a.getError(b),b.el)})}},{key:"onSubmit",value:function(a){a.preventDefault(),this.validate().hasError?this.invalidHandler&&this.invalidHandler.call(this,this):this.submitHandler?this.submitHandler.call(this,this.form):a.currentTarget.submit()}},{key:"removeErrorClass",value:function(a){a.classList.contains(this.errorClass)&&a.classList.remove(this.errorClass)}},{key:"validateInput",value:function(a,b,c){var d=this,e=a,g=b;if(!b&&"number"!=typeof b){var h=f.findIndex(this.formInputs,{el:e});e=this.formInputs[h],g=h}return Object.entries(e.rules).forEach(function(a){var b=f.findIndex(d.errorList,{el:e.el,rule:a[0],inputIndex:g}),c=f.findIndex(d.errorList,{el:e.el,inputIndex:g});d.validateValue(e.el.value,a[0],a[1])?(0<=b&&d.clearError(g,a[0]),0>c&&(e.valid=!0)):0>b&&(e.valid=!1,d.errorList.push({el:e.el,rule:a[0],required:a[1],inputIndex:g}))}),"function"==typeof c&&c(),e}},{key:"validateValue",value:function(a,b,c){return i[b].call(this,a,c)}},{key:"validate",value:function(){return this.formInputs=this.formInputs.map(this.validateInput.bind(this)),0<this.errorList.length?(this.mapErrors(),{hasError:!0,errorCount:this.errorList.length}):{hasError:!1}}},{key:"setupListeners",value:function(a){var b=this,c=this;Array.from(this.form.querySelectorAll("[data-field-holder]")).forEach(function(d){var e=d.querySelector("input:not([disabled])");0<=f.findIndex(b.formInputs,{el:e})&&e.addEventListener(a,c.validateInput.bind(c,e,null,function(){0<c.errorList.length&&c.mapErrors()}))})}},{key:"setup",value:function(){this.form.addEventListener("submit",this.onSubmit.bind(this)),this.onfocusout&&this.setupListeners("focusout")}}],[{key:"removeErrorMessage",value:function(a){var b=a;b.innerHTML&&b.dataset.inputError&&(b.innerHTML="",b.dataset.inputError="")}}]),b}();window.vanillaValidation=p});
